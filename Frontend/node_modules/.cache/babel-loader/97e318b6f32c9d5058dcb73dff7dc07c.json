{"ast":null,"code":"var _jsxFileName = \"/Users/jonathantaylor/Google Drive/Interview2/Frontend/src/containers/loansAndData.js\";\nimport React, { useEffect, useState } from 'react';\nimport AddLoan from '../components/addLoan';\nimport axios from 'axios';\nimport LoanInfo from '../components/loanInfo';\n\nconst LoansAndData = props => {\n  const [companyLoans, setCompanyLoans] = useState([]);\n  const startFormData = {\n    name: \"\",\n    amount: \"\",\n    type: \"DEFAULT\",\n    otherType: \"\"\n  };\n  const {\n    loanTypes\n  } = useContext(loanTypeContext);\n  const [loanData, setLoanData] = useState(startFormData);\n  const [otherType, setOtherType] = useState(false);\n  useEffect(() => {\n    getCompanyLoans();\n  }, []);\n\n  const getCompanyLoans = async () => {\n    let response = await axios.get('http://localhost:5000/loans');\n    setCompanyLoans(response.data.companies);\n  };\n\n  const addLoan = async e => {\n    e.preventDefault();\n    let data = {\n      name: loanData.name,\n      amount: loanData.amount,\n      type: loanData.type,\n      otherType: loanData.otherType\n    };\n    await axios.post('http://localhost:5000/loans', data);\n    setLoanData(startFormData);\n    getCompanyLoans();\n  };\n\n  const dropDownChangeHandler = e => {\n    let {\n      value\n    } = e.target;\n\n    if (value === \"Other\") {\n      setLoanData({ ...loanData,\n        type: value\n      });\n    } else {\n      setLoanData({ ...loanData,\n        type: value,\n        otherType: \"\"\n      });\n    }\n  };\n\n  const onChangeHandler = e => {\n    let {\n      name,\n      value\n    } = e.target;\n    setLoanData({ ...loanData,\n      [name]: value\n    });\n  };\n\n  let companyLoansUI;\n\n  if (companyLoans !== []) {\n    companyLoansUI = companyLoans.map(company => {\n      return company.loans.map(loan => /*#__PURE__*/React.createElement(LoanInfo, {\n        key: company._id,\n        name: company.name,\n        amount: loan.amount,\n        type: loan.type,\n        otherType: loan.otherType,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 47\n        }\n      }));\n    });\n  }\n\n  const optionElements = loanTypes.map((loanType, index) => /*#__PURE__*/React.createElement(\"option\", {\n    key: index,\n    value: loanType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 61\n    }\n  }, loanType));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => addLoan(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    required: true,\n    value: loanData.name,\n    name: \"name\",\n    onChange: e => onChangeHandler(e),\n    placeholder: \"Business Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    required: true,\n    value: loanData.amount,\n    name: \"amount\",\n    onChange: e => onChangeHandler(e),\n    placeholder: \"Loan Amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    required: true,\n    name: \"loan types\",\n    name: \"type\",\n    value: loanData.type,\n    onChange: e => dropDownChangeHandler(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"DEFAULT\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"Loan Type\"), optionElements), loanData.type === \"Other\" ? /*#__PURE__*/React.createElement(\"input\", {\n    required: true,\n    value: loanData.otherType,\n    name: \"otherType\",\n    onChange: e => {\n      onChangeHandler(e);\n    },\n    placeholder: \"Loan Type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 40\n    }\n  }) : null, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"Add Loan Request\")), companyLoans !== [] ? companyLoansUI : null);\n};\n\nexport default LoansAndData;","map":{"version":3,"sources":["/Users/jonathantaylor/Google Drive/Interview2/Frontend/src/containers/loansAndData.js"],"names":["React","useEffect","useState","AddLoan","axios","LoanInfo","LoansAndData","props","companyLoans","setCompanyLoans","startFormData","name","amount","type","otherType","loanTypes","useContext","loanTypeContext","loanData","setLoanData","setOtherType","getCompanyLoans","response","get","data","companies","addLoan","e","preventDefault","post","dropDownChangeHandler","value","target","onChangeHandler","companyLoansUI","map","company","loans","loan","_id","optionElements","loanType","index"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport AddLoan from '../components/addLoan';\nimport axios from 'axios';\nimport LoanInfo from '../components/loanInfo';\n\nconst LoansAndData = (props) => {\n    const [companyLoans, setCompanyLoans] = useState([]); \n    const startFormData = {name: \"\", amount: \"\", type: \"DEFAULT\", otherType: \"\"};\n    const {loanTypes} = useContext(loanTypeContext);\n    const [loanData, setLoanData] = useState(startFormData);\n    const [otherType, setOtherType] = useState(false);\n\n    useEffect(()=> {\n        getCompanyLoans();\n    }, [])\n\n    const getCompanyLoans = async ()=>{\n        let response = await axios.get('http://localhost:5000/loans');\n        setCompanyLoans(response.data.companies);\n    }\n\n    const addLoan = async (e)=>{\n        e.preventDefault();\n        let data = {name: loanData.name, amount: loanData.amount, type: loanData.type, otherType: loanData.otherType};\n        await axios.post('http://localhost:5000/loans', data);\n        setLoanData(startFormData);\n        getCompanyLoans();\n        \n    }\n\n    const dropDownChangeHandler = (e)=>{\n        let {value} = e.target;\n        if(value===\"Other\"){\n            setLoanData({...loanData, type: value})\n        }\n        else{\n            setLoanData({...loanData, type: value, otherType: \"\"})\n        }\n    }\n\n    const onChangeHandler = (e)=>{\n        let {name, value} = e.target;\n        setLoanData({...loanData, [name]: value});\n    }\n\n  let companyLoansUI;\n    if(companyLoans!==[]){\n        companyLoansUI = companyLoans.map(company=>{\n            return company.loans.map((loan)=> <LoanInfo key={company._id} name={company.name} amount={loan.amount} type={loan.type} otherType={loan.otherType}/>)\n        })\n    }\n   \n\n    const optionElements = loanTypes.map((loanType, index)=><option key={index} value={loanType}>{loanType}</option>)\n\n    return(\n        <>\n        <form onSubmit={(e)=>addLoan(e)} >\n            <input required value={loanData.name} name=\"name\" onChange={(e)=>onChangeHandler(e)} placeholder=\"Business Name\"/>\n            <input type=\"number\" required value={loanData.amount} name=\"amount\" onChange={(e)=>onChangeHandler(e)} placeholder=\"Loan Amount\" />\n            <select required name=\"loan types\" name=\"type\"  value={loanData.type} onChange={(e)=>dropDownChangeHandler(e)}>\n            <option value=\"DEFAULT\" disabled>Loan Type</option>\n                {optionElements}\n            </select>\n            {loanData.type===\"Other\" ? <input required value={loanData.otherType} name=\"otherType\" onChange={(e)=>{onChangeHandler(e)}} placeholder=\"Loan Type\"/>: null}\n            <button>Add Loan Request</button>\n        </form>\n        {companyLoans!==[] ? companyLoansUI: null}\n        </>\n    )\n}; \n\nexport default LoansAndData;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/jonathantaylor/Google Drive/Interview2/Frontend/src/containers/loansAndData.js\";\nimport React, { useEffect, useState } from 'react';\nimport AddLoan from '../components/addLoan';\nimport axios from 'axios';\nimport LoanInfo from '../components/loanInfo';\n\nconst LoansAndData = props => {\n  const [companyLoans, setCompanyLoans] = useState([]);\n  useEffect(() => {\n    getCompanyLoans();\n  }, []);\n\n  const getCompanyLoans = async () => {\n    let response = await axios.get('http://localhost:5000/loans');\n    setCompanyLoans(response.data.companies);\n  };\n\n  const addLoan = async e => {\n    e.preventDefault();\n    let data = {\n      name: loanData.name,\n      amount: loanData.amount,\n      type: loanData.type,\n      otherType: loanData.otherType\n    };\n    await axios.post('http://localhost:5000/loans', data);\n    setLoanData(startFormData);\n  };\n\n  let companyLoansUI = companyLoans.map(company => {\n    return company.loans.map(loan => /*#__PURE__*/React.createElement(LoanInfo, {\n      key: company._id,\n      name: company.name,\n      amount: loan.amount,\n      type: loan.type,\n      otherType: loan.otherType,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 43\n      }\n    }));\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AddLoan, {\n    addLoan: e => addLoan(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }), companyLoansUI);\n};\n\nexport default LoansAndData;","map":{"version":3,"sources":["/Users/jonathantaylor/Google Drive/Interview2/Frontend/src/containers/loansAndData.js"],"names":["React","useEffect","useState","AddLoan","axios","LoanInfo","LoansAndData","props","companyLoans","setCompanyLoans","getCompanyLoans","response","get","data","companies","addLoan","e","preventDefault","name","loanData","amount","type","otherType","post","setLoanData","startFormData","companyLoansUI","map","company","loans","loan","_id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,wBAArB;;AAEA,MAAMC,YAAY,GAAIC,KAAD,IAAW;AAC5B,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCP,QAAQ,CAAC,EAAD,CAAhD;AACAD,EAAAA,SAAS,CAAC,MAAK;AACXS,IAAAA,eAAe;AAClB,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMA,eAAe,GAAG,YAAU;AAC9B,QAAIC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAU,6BAAV,CAArB;AACAH,IAAAA,eAAe,CAACE,QAAQ,CAACE,IAAT,CAAcC,SAAf,CAAf;AACH,GAHD;;AAKA,QAAMC,OAAO,GAAG,MAAOC,CAAP,IAAW;AACvBA,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIJ,IAAI,GAAG;AAACK,MAAAA,IAAI,EAAEC,QAAQ,CAACD,IAAhB;AAAsBE,MAAAA,MAAM,EAAED,QAAQ,CAACC,MAAvC;AAA+CC,MAAAA,IAAI,EAAEF,QAAQ,CAACE,IAA9D;AAAoEC,MAAAA,SAAS,EAAEH,QAAQ,CAACG;AAAxF,KAAX;AACA,UAAMlB,KAAK,CAACmB,IAAN,CAAW,6BAAX,EAA0CV,IAA1C,CAAN;AACAW,IAAAA,WAAW,CAACC,aAAD,CAAX;AACH,GALD;;AAQA,MAAIC,cAAc,GAAGlB,YAAY,CAACmB,GAAb,CAAiBC,OAAO,IAAE;AAC3C,WAAOA,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAmBG,IAAD,iBAAS,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEF,OAAO,CAACG,GAAvB;AAA4B,MAAA,IAAI,EAAEH,OAAO,CAACV,IAA1C;AAAgD,MAAA,MAAM,EAAEY,IAAI,CAACV,MAA7D;AAAqE,MAAA,IAAI,EAAEU,IAAI,CAACT,IAAhF;AAAsF,MAAA,SAAS,EAAES,IAAI,CAACR,SAAtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA3B,CAAP;AACH,GAFoB,CAArB;AAMA,sBACI,uDACA,oBAAC,OAAD;AAAS,IAAA,OAAO,EAAGN,CAAD,IAAKD,OAAO,CAACC,CAAD,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,EAECU,cAFD,CADJ;AAMH,CA/BD;;AAiCA,eAAepB,YAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport AddLoan from '../components/addLoan';\nimport axios from 'axios';\nimport LoanInfo from '../components/loanInfo';\n\nconst LoansAndData = (props) => {\n    const [companyLoans, setCompanyLoans] = useState([]); \n    useEffect(()=> {\n        getCompanyLoans();\n    }, [])\n\n    const getCompanyLoans = async ()=>{\n        let response = await axios.get('http://localhost:5000/loans');\n        setCompanyLoans(response.data.companies);\n    }\n\n    const addLoan = async (e)=>{\n        e.preventDefault();\n        let data = {name: loanData.name, amount: loanData.amount, type: loanData.type, otherType: loanData.otherType};\n        await axios.post('http://localhost:5000/loans', data);\n        setLoanData(startFormData);\n    }\n\n\n    let companyLoansUI = companyLoans.map(company=>{\n        return company.loans.map((loan)=> <LoanInfo key={company._id} name={company.name} amount={loan.amount} type={loan.type} otherType={loan.otherType}/>)\n    })\n\n\n\n    return(\n        <>\n        <AddLoan addLoan={(e)=>addLoan(e)}/>\n        {companyLoansUI}\n        </>\n    )\n}; \n\nexport default LoansAndData;"]},"metadata":{},"sourceType":"module"}